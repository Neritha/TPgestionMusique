{% extends 'base.html.twig' %}

{% block title %}Fiche l'artiste{% endblock %}

{% block body %}
<h1 class="pt-3 text-center">Fiche de l'artiste</h1>
<hr>
<a href="{{path('artistes')}}" class="btn btn-outline-primary">Revenir Ã  la liste des artistes</a>

<div class="row pt-2">
    {% set nbAlbums = leArtiste.albums|length %}

        <div class="row card m-1">
            <h3 class="card-header"> {{leArtiste.nom}}</h3>
            <div class="row">
                <div class="col-3 d-flex align-items-center mx-auto">
                    <img class="avatar mx-auto d-block" style="height: auto; width: 200px; display: bloc;" src="{{leArtiste.image}}" alt="">
                </div>

                <div class="col">
                    <div class="card-body">
                        <h5 class="card-title"> 
                            <a href="" class="badge badge-success">{{nbAlbums}}{% if nbAlbums > 1 %} Albums {% else %} Album {% endif %}</a>
                        </h5>
                    </div>
            
                    <div class="card-body">
                        <p class="card-text">{{leArtiste.description|raw}} </p>
                    </div>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">{% if leArtiste.type == 0 %} Artiste solo {% else %} Groupe{% endif %} </li>
                            <li class="list-group-item"><a target="_blank" href="{{leArtiste.site}}">Site web</a> </li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>

    <table class="table table-hover mx-auto">
  <thead>
    <tr>
      <th scope="col-3">Photo</th>
      <th scope="col-4">Nom</th>
      <th scope="col-1">Date</th>
      <th scope="col-3">Styles</th>
      <th scope="col-1">Morceau</th>
    </tr>
  </thead>
  <tbody>
  {% for leAlbum in leArtiste.albums %}
    <tr class="table-light">
        <td><img class="miniature" src="{{leAlbum.image}}" alt=""></th>
        <td scop="row"> <a href=" {{path('ficheAlbum', {'id': leAlbum.id})}} "> {{leAlbum.nom}} </a></td>
        <td>{{leAlbum.date}} </td>
        <td></td>
        <td>{{leAlbum.morceaux|length}} </td> 
    </tr>
  {% endfor %}

  </tbody>
</table>


{% endblock %}
